{"version":3,"sources":["services/PixabayApi.js","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","oops.jpg","components/ErrorViewApi/ErrorViewApi.jsx","components/Loader/Loader.jsx","App.jsx","index.js"],"names":["api","fetchArticlesWithQuery","searchQuery","page","axios","get","then","response","data","hits","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","onClick","src","alt","Component","Button","type","Searchbar","state","handleNameChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","info","autoComplete","autoFocus","placeholder","onChange","ImageGallery","children","ImageGalleryItem","url","CatchError","errorImage","width","App","color","height","images","imagesLenght","isLoading","error","largeImage","showModal","urlModal","altToModal","handleFormSubmit","fetchImages","options","loading","PixabayApi","prevState","length","catch","finally","toggleModal","onClickImageGalleryItem","getAttribute","console","log","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","map","id","tags","webformatURL","largeImageURL","style","display","alignContent","justifyContent","margin","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ee4f17b6.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst KEY = '21948648-940e5752284e9bc56aa424f61';\r\n\r\nconst fetchArticlesWithQuery = ({searchQuery, page}) => {\r\n    return axios\r\n      .get(`https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n      .then(response => response.data.hits);\r\n  };\r\n\r\nconst api = {\r\n  fetchArticlesWithQuery,\r\n}\r\n  \r\n  export default api;","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport '../../App.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal__content\">\n        <img src={this.props.src} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Button extends Component {\n\n    render() {\n    return(\n        <button type=\"button\" className=\"Button\" onClick={this.props.onClick} >\n            Load more\n        </button>\n    )}\n};\nButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n  };","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleNameChange = e => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.searchQuery.trim() === '') {\n      toast.info('Enter query!');\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\" onSubmit={this.handleSubmit}>\n        <form className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Searc</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport '../../App.css';\n\nconst ImageGallery = ({ children }) => (\n  <ul className=\"ImageGallery\">{children}</ul>\n);\n\nImageGallery.propTypes = {\n  children: PropTypes.node.isRequired,\n};\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../../App.css';\n\nconst ImageGalleryItem = ({ alt, src, url, onClick }) => (\n  \n  <li className=\"ImageGalleryItem\">\n    <img\n      onClick={onClick}\n      src={src}\n      alt={alt}\n      url={url}\n      className=\"ImageGalleryItemImage\"\n    />\n  </li>\n);\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n};\nexport default ImageGalleryItem;\n","export default __webpack_public_path__ + \"static/media/oops.3ad17dcf.jpg\";","import errorImage from '../../oops.jpg';\r\nimport '../../App.css';\r\n\r\nexport default function CatchError() {\r\n  return (\r\n    <div className=\"CatchError\">\r\n      <img src={errorImage} alt=\"oops, error\" width=\"240\" />\r\n      <p>Oops!!! Something went wrong.</p>\r\n    </div>\r\n  );\r\n}\r\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class App extends Component {\n  render() {\n    return <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />;\n  }\n}\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport PixabayApi from './services/PixabayApi';\n\nimport Modal from './components/Modal';\nimport Button from './components/Button/Button';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport CatchError from './components/ErrorViewApi/ErrorViewApi';\n// import ReactLoading from 'react-loading';\nimport Loader from './components/Loader';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    imagesLenght: [],\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    largeImage: '',\n    showModal: false,\n    urlModal: '',\n    altToModal: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n    if (prevState.page > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleFormSubmit = searchQuery => {\n    this.setState({\n      searchQuery: searchQuery,\n      page: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    const options = { searchQuery, page };\n\n    this.setState({ loading: true });\n\n    PixabayApi.fetchArticlesWithQuery(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n          imagesLenght: [...images],\n        }));\n        if (images.length === 0) {\n          toast.error('Sorry, we didn it find anything. Try again!');\n        }\n      })\n      .catch(error => this.setState({ error: !error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onClickImageGalleryItem = e => {\n    this.setState({\n      urlModal: e.currentTarget.getAttribute('url'),\n      altToModal: e.currentTarget.getAttribute('alt'),\n    });\n    this.toggleModal();\n    console.log(e);\n  };\n\n  render() {\n    const {\n      images,\n      imagesLenght,\n      isLoading,\n      error,\n      showModal,\n      altToModal,\n      urlModal,\n    } = this.state;\n\n    const style = {\n      display: 'flex',\n      alignContent: 'center',\n      justifyContent: 'center',\n      margin: 10,\n    };\n\n    return (\n      <>\n        <ToastContainer />\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {error && <CatchError />}\n        <ImageGallery>\n          {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n            <ImageGalleryItem\n              key={id}\n              alt={tags}\n              src={webformatURL}\n              url={largeImageURL}\n              onClick={this.onClickImageGalleryItem}\n            />\n          ))}\n        </ImageGallery>\n        {isLoading && <Loader/>}\n\n        {!(imagesLenght.length < 12) && (\n          <div style={style}>\n            <Button onClick={this.fetchImages} />\n          </div>\n        )}\n\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            src={urlModal}\n            alt={altToModal}\n          ></Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}